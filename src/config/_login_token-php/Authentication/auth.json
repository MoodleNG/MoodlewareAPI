{
  "method": "GET",
  "description": "Get Moodle token for API calls.",
  "query_params": [
    {
      "name": "username",
      "type": "str",
      "required": true,
      "description": "Moodle instance username"
    },
    {
      "name": "password",
      "type": "str",
      "required": true,
      "description": "Moodle instance password"
    },
    {
      "name": "service",
      "type": "str",
      "required": false,
      "default": "moodle_mobile_app",
      "description": "Web service name"
    }
  ],
  "responses": {
    "200": {
      "description": "Token response",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string"
              },
              "privatetoken": {
                "type": "string"
              }
            }
          },
          "example": {
            "token": "abcdef1234567890",
            "privatetoken": "abcdef1234567890_priv"
          }
        }
      }
    },
    "422": {
      "description": "Invalid Credentials",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "error": {
                "type": "string"
              },
              "errorcode": {
                "type": "string"
              },
              "stacktrace": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "debuginfo": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "reproductionlink": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          },
          "example": {
            "error": "Invalid login",
            "errorcode": "invalidlogin",
            "stacktrace": null,
            "debuginfo": null,
            "reproductionlink": null
          }
        }
      }
    }
  }
}
